<!DOCTYPE html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <!-- <script> src="../static/styles/jsdata.js"</script> -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="../static/styles/style.css">
        {{ dropzone.load_css() }}
        <style>
          .dropzone {
              border: none;
              margin: 5%;
              min-height: 300px;
              width: 300px;
              z-index: 10;
              opacity: 0.5;
              position: absolute;
              
          }
      </style>
    </head>
<body>


  
  <!-- Modal -->

  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">The picture depicts</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          {% if answer %}
  <form method=post >
    <a  class="outline" > Prediction is: {{answer}}</a>
    <div style="padding: 7px">
      <select name=true_prediction>
        {% for correct_answer in correct_answers %}
          <option value= "{{correct_answer}}" SELECTED>{{correct_answer}} </option>
        {% endfor %}      
      </select>
      <select name=true_class>
        {% for img_class in img_classes %}
          <option value= "{{img_class}}" SELECTED>{{img_class}} </option>
        {% endfor %}      
        <input type="submit" value=Submit>
      </select>
      {% else %}
      <a  class="outline" >No result available : {{answer}}</a>
      {% endif %}  
          <b>{{answer}}</b>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">close</button>
        </div>
      </div>
    </div>
  </div>


<div class="smooth">  
    <div class="header">
        <ul>
            <li><a href="#home">home</a></li>
            <li><a href="#about">start</a></li>
        </ul>
    </div>
    <section id="home">
        <h2> WELCOME TO IMAGE CLASSIFIER!<br />
            The application will help you to classify your image.<br />
             Just drop your file and our neural network will give you the answer. </h2>
    </section>
    <section id="about">
      <!-- {% if not answer %}
      <title>Загрузить новый файл</title>
      <h1>Загрузить новый файл</h1>
      <form method=post enctype=multipart/form-data>
        <input type=file name=file>
        <input type=submit value=Upload>
        {% endif %} -->
      {% if not answer %}
     
<div class="drop-it-hot">
    <div class="circle">
        <svg fill="black" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z" />
        </svg>
    </div>  
    <form class="choose-files" method=post enctype=multipart/form-data>
        <div class="button-wrapper">
            <label class="label" for="fileElem">Drag image here to upload or</label>
            <input type=file name=file>
            <input type=submit class="btn" value="Choose image">
            <!-- <input type=file name=file> -->
            <!-- <button type="button" class="btn">Choose image</button> -->
        </div>
    </form>
    {{ dropzone.create(action="upload_file") }}
    {{ dropzone.load_js() }}
    {{ dropzone.config() }}

    <div id="gallery"> 
      {% if message %} 
      <a  class="outline" >{{message}}</a>
        {% endif %}
    </div>
  </div>
      <button type="submit" class="btn btn-primary btn2" value="Upload" data-toggle="modal" data-target="#exampleModal">
          See the result
        </button>
    </div>
    {% endif %}

</div>
</section>
</div>
</body>
</html>